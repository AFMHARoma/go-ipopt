cmake_minimum_required(VERSION 2.8.12)

enable_language(Fortran)

project(MA27 Fortran)

SET(MA27_LIBRARY ma27)

SET( MA27_INCLUDE_DIRS "${CMAKE_CURRENT_SOURCE_DIR}/src")
ADD_LIBRARY( ma27 STATIC "${CMAKE_CURRENT_SOURCE_DIR}/src/ma27d.f")
SET_PROPERTY(TARGET ma27 PROPERTY POSITION_INDEPENDENT_CODE ON)
SET_TARGET_PROPERTIES(${MA27_LIBRARY} PROPERTIES COMPILE_FLAGS "-fno-common")
set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} /NODEFAULTLIB}")
